<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>AquaNet ‚Äì –ü—É–±–ª–∏—á–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <meta http-equiv="refresh" content="30">

    <style>
        :root {
            --blue-main: #3bbaff;
            --blue-soft: #d9f2ff;
            --blue-dark: #1b6fa8;
            --gray-light: #f7f9fb;
            --gray-text: #6b7280;
            --card-border: rgba(0,0,0,0.08);
        }

        body {
            background: var(--gray-light);
            color: #1f2937;
            font-family: "Inter", system-ui, sans-serif;
        }

        /* NAVBAR */
        .navbar {
            background: white;
            border-bottom: 1px solid rgba(0,0,0,0.08);
            padding-top: 0.9rem;
            padding-bottom: 0.9rem;
        }
        .navbar-brand {
            font-weight: 600;
            color: var(--blue-dark);
        }
        .badge-deficit {
            background: var(--blue-soft);
            border: 1px solid var(--blue-main);
            color: var(--blue-dark);
            border-radius: 50px;
            padding: 0.35rem 0.9rem;
            font-size: 0.8rem;
            font-weight: 500;
        }

        /* Titles */
        .page-title {
            margin-top: 1.5rem;
            font-size: 1.7rem;
            font-weight: 700;
            color: var(--blue-dark);
        }
        .page-subtitle {
            color: var(--gray-text);
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
        }

        /* Cards */
        .village-card {
            background: white;
            border-radius: 1.25rem;
            border: 1px solid var(--card-border);
            box-shadow: 0 2px 6px rgba(0,0,0,0.06);
            overflow: hidden;
            transition: transform 0.1s ease;
        }
        .village-card:hover {
            transform: translateY(-3px);
        }

        .village-header {
            padding: 0.85rem 1.3rem;
            background: var(--blue-soft);
            border-bottom: 1px solid var(--card-border);
        }
        .village-name {
            margin: 0;
            font-size: 1.05rem;
            font-weight: 600;
            color: var(--blue-dark);
        }

        .village-meta {
            font-size: 0.85rem;
            color: var(--gray-text);
        }

        /* Table */
        .table-custom thead {
            background: white;
            border-bottom: 1px solid var(--card-border);
        }
        .table-custom th {
            color: #6b7280;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        .table-custom td {
            font-size: 0.9rem;
        }
        .table-custom tbody tr:hover {
            background: #f0faff;
        }

        /* –ü–æ–ª–∏–≤-–±–µ–π–¥–∂ */
        .pill-time {
            display: inline-block;
            padding: .2rem .7rem;
            border-radius: 50px;
            background: var(--blue-soft);
            color: var(--blue-dark);
            font-size: 0.75rem;
            font-weight: 600;
        }

        .empty-state {
            background: white;
            border-radius: 1rem;
            border: 1px dashed var(--blue-main);
            padding: 1rem 1.25rem;
            font-size: 0.95rem;
            color: #1f2937;
        }

        .footer-note {
            margin-top: 1.7rem;
            font-size: 0.8rem;
            color: var(--gray-text);
        }
    </style>
</head>


<body>

<nav class="navbar">
    <div class="container-fluid px-3 px-md-4 d-flex justify-content-between">
        <span class="navbar-brand">üíß AquaNet ¬∑ –ü—É–±–ª–∏—á–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</span>

        <span class="badge-deficit">
            –î–µ—Ñ–∏—Ü–∏—Ç –≤–æ–¥—ã: <strong><%= deficit %>%</strong>
        </span>
    </div>
</nav>


<div class="container py-4">

    <h1 class="page-title">–°—Ö–µ–º–∞ –ø–æ–ª–∏–≤–∞ –ø–æ —Å—ë–ª–∞–º</h1>
    <p class="page-subtitle">–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥ | –î–∞–Ω–Ω—ã–µ –∏–∑ Telegram-–±–æ—Ç–∞ AquaNet</p>

    <% if (Object.keys(villages).length === 0) { %>
        <div class="empty-state mb-4">
            –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ —Ñ–µ—Ä–º–µ—Ä–∞—Ö. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ –±–æ—Ç AquaNet, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∂–∏–≤—É—é –æ—á–µ—Ä–µ–¥—å.
        </div>
    <% } %>

    <div class="row g-4">
        <% Object.keys(villages).forEach(function(villageName) { %>
            <div class="col-12 col-lg-6">
                <div class="village-card">
                    <div class="village-header">
                        <h5 class="village-name">üè° –ê–π—ã–ª: <%= villageName %></h5>
                        <div class="village-meta">–§–µ—Ä–º–µ—Ä–æ–≤: <%= villages[villageName].length %></div>
                    </div>

                    <div class="table-responsive">
                        <table class="table table-custom table-hover mb-0">
                            <thead>
                                <tr>
                                    <th style="width: 40px;">#</th>
                                    <th>–§–µ—Ä–º–µ—Ä</th>
                                    <th>–ö—É–ª—å—Ç—É—Ä–∞</th>
                                    <th style="width: 90px;">–ü–æ–ª–∏–≤</th>
                                </tr>
                            </thead>

                            <tbody>
                                <% villages[villageName].forEach(function(farmer, index) { %>
                                    <tr>
                                        <td><%= index + 1 %></td>
                                        <td><%= farmer.name %></td>
                                        <td><%= farmer.crop %></td>
                                        <td><span class="pill-time"><%= farmer.duration %> –º–∏–Ω</span></td>
                                    </tr>
                                <% }); %>
                            </tbody>
                        </table>
                    </div>

                </div>
            </div>
        <% }); %>
    </div>

    <div class="footer-note">
        –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å AquaNet.
    </div>
</div>

</body>
</html>